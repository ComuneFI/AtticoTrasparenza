<div [ngClass]="{'robots-nocontent': content['dataFinePubblicazione'] && content['dataFinePubblicazione'] > 0 }">

  <span [outerHTML]="googleOffVar | safeHtml "></span>

  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["number"]}}</strong></div>
		<div class="col-md-9">{{content?.numeroAdozione}}</div>
  </div>
		<!--  <div class="col-md-3"><strong>{{translateService.instant('columnLabels')["adoptionDate"]}}</strong></div>
		<div class="col-md-9">{{content?.dataAdozione | date:translateService.instant('patternDate')}}</div>-->
  <div class="row">
		<div *ngIf="content && content.dataFinePubblicazione" class="col-md-3"><strong>{{translateService.instant('columnLabels')["publicationEndDate"]}}</strong></div>
		<div *ngIf="content && content.dataFinePubblicazione" class="col-md-9">{{content?.dataFinePubblicazione | date:translateService.instant('patternDate')}}</div>
  </div>

  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["presentationDate"]}}</strong></div>
		<div class="col-md-9">{{content?.dataPresentazione | date:translateService.instant('patternDate')}}</div>
  </div>

  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["approvalDate"]}}</strong></div>
		<div class="col-md-9">{{content?.dataApprovazione | date:translateService.instant('patternDate')}}</div>
  </div>
<!-- 
  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["expiryDate"]}}</strong></div>
		<div class="col-md-9">{{content?.dataScadenza | date:translateService.instant('patternDate')}}</div>
  </div> -->

  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["status"]}}</strong></div>
		<div class="col-md-9">{{content?.stato}}</div>
  </div>

  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["outcome"]}}</strong></div>
		<div class="col-md-9">{{content?.esito}}</div>
  </div>

  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["assessor"]}}</strong></div>
		<div class="col-md-9">{{content?.assessore}}</div>
  </div>

  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["proponent"]}}</strong></div>
		<div class="col-md-9">{{content?.proponente}}</div>
  </div>

  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["subject"]}}</strong></div>
		<div class="col-md-9">{{content?.oggetto}}</div>
  </div>

  <div class="row">
    <div class="col-md-3"><strong>{{translateService.instant('columnLabels')["stateCancel"]}}</strong></div>
		<div class="col-md-9">{{content?.statoAnnullamento}}</div>
  </div>

  <div class="row">
    <div class="col-md-3" *ngIf="!utils.isEmpty(content?.statoAnnullamento)"><strong>{{translateService.instant('columnLabels')["actCancel"]}}</strong></div>
		<div class="col-md-9" *ngIf="!utils.isEmpty(content?.statoAnnullamento)">
      <div><a href="?tipo={{content?.tipoAttoAnnullamento}}&numero={{content?.numeroAttoAnnullamento}}&anno={{content?.dataAttoAnnullamento | date:'yyyy'}}">
        <span *ngIf="!utils.isEmpty(content?.tipoAttoAnnullamento)" [ngStyle]="{'float' : 'left'}">{{content?.tipoAttoAnnullamento}}</span>
        <span *ngIf="!utils.isEmpty(content?.numeroAttoAnnullamento)" [ngStyle]="{'float' : 'left'}">,&nbsp;N. {{content?.numeroAttoAnnullamento}}</span>
        <span *ngIf="!utils.isEmpty(content?.dataAttoAnnullamento)" [ngStyle]="{'float' : 'left'}">&nbsp;del&nbsp;{{content?.dataAttoAnnullamento | date:translateService.instant('patternDate')}}</span></a>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-3" *ngIf="!utils.isEmpty(content?.tipoAttoCollegamento)"><strong>{{translateService.instant('columnLabels')["actCancel2"]}}</strong></div>
		<div class="col-md-9" *ngIf="!utils.isEmpty(content?.tipoAttoCollegamento)">
      <div><a href="?tipo={{content?.tipoAttoCollegamento}}&numero={{content?.numeroAttoCollegamento}}&anno={{content?.dataAttoCollegamento | date:'yyyy'}}">
        <span *ngIf="!utils.isEmpty(content?.tipoAttoCollegamento)" [ngStyle]="{'float' : 'left'}">{{content?.tipoAttoCollegamento}}</span>
        <span *ngIf="!utils.isEmpty(content?.numeroAttoCollegamento)" [ngStyle]="{'float' : 'left'}">,&nbsp;N. {{content?.numeroAttoCollegamento}}</span>
        <span *ngIf="!utils.isEmpty(content?.dataAttoCollegamento)" [ngStyle]="{'float' : 'left'}">&nbsp;del&nbsp;{{content?.dataAttoCollegamento | date:translateService.instant('patternDate')}}</span></a>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3"><strong>{{translateService.instant('notes')}}</strong></div>
    <div class="col-md-9">
      <div *ngIf="content?.riservato"><span>{{translateService.instant('reservedNote')}}</span></div>
      <div *ngIf="content?.scaduto"><span>{{translateService.instant('expiredNote', {inizio : (content.dataPubblicazione | date:translateService.instant('patternDate')), fine : (content.dataFinePubblicazione | date:translateService.instant('patternDate'))})}}</span></div>
    </div>
  </div>

  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["act"]}}</strong></div>
		<div class="col-md-9">
			 <a *ngIf="content['atto']?.link" href="{{content['atto']?.link}}" target="_blank" title="{{content['atto']?.nome}}" [attr.rel]="content['dataFinePubblicazione'] && content['dataFinePubblicazione'] > 0 ? 'nofollow' : null">
         <!--<img src="./assets/attach.png" alt="{{content['atto']?.nome}}" title="{{content['atto']?.nome}}" height="32" width="32">-->
        <span *ngIf="!content['atto']?.titolo">{{content['atto']?.nome}}</span>
        <span *ngIf="content['atto']?.titolo">{{content['atto']?.titolo}}</span>
			 </a>
		</div>
  </div>

<!--
  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["attachments"]}}</strong></div>
		<div class="col-md-9">
			 <a *ngFor="let attach of content['allegati']" href="{{attach.link}}" target="_blank" [attr.rel]="content['dataFinePubblicazione'] && content['dataFinePubblicazione'] > 0 ? 'nofollow' : null">
			 	<img src="./assets/attach.png" alt="{{attach.nome}}" title="{{attach.nome}}" height="32" width="32">
			 </a>
		</div>
  </div>
-->
<div class="row">
  <div class="col-md-12"><strong>{{translateService.instant('columnLabels')["attachments"]}}</strong></div>
</div>
<div class="row">
  <div class="col-md-12">
      <span *ngFor="let attach of content['allegati']">
         <a *ngIf="!attach?.riservato" href="{{attach.link}}" target="_blank" title="{{attach.nome}}" [attr.rel]="content['dataFinePubblicazione'] && content['dataFinePubblicazione'] > 0 ? 'nofollow' : null">
          <span *ngIf="!attach?.titolo && attach?.nome.lastIndexOf('ALLEGATO PARERE ')==-1">{{attach?.nome}}</span>
          <span *ngIf="attach?.titolo && attach?.titolo.lastIndexOf('ALLEGATO PARERE ')==-1">{{attach?.titolo}}</span>
         </a>
         <span *ngIf="attach?.riservato" title="{{attach.nome}}">
          <span *ngIf="!attach?.titolo && attach?.nome.lastIndexOf('ALLEGATO PARERE ')==-1">{{attach?.nome}} (<b>RISERVATO</b>)</span>
          <span *ngIf="attach?.titolo && attach?.titolo.lastIndexOf('ALLEGATO PARERE ')==-1">{{attach?.titolo}} (<b>RISERVATO</b>)</span>
         </span>
      </span>
  </div>
</div>

<div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["opinions"]}}</strong></div>
		<div class="col-md-9">
			<table class="table" *ngIf="content?.pareri">
			  <thead>
			    <tr>
			      <th scope="col">{{translateService.instant('columnLabels')["opinionsColumns"]["name"]}}</th>
			      <th scope="col">{{translateService.instant('columnLabels')["opinionsColumns"]["text"]}}</th>
			      <th scope="col">{{translateService.instant('columnLabels')["opinionsColumns"]["sendDate"]}}</th>
			      <th scope="col">{{translateService.instant('columnLabels')["opinionsColumns"]["expiryDate"]}}</th>
			      <th scope="col">{{translateService.instant('columnLabels')["opinionsColumns"]["opinionDateRinvio"]}}</th>
   			      <th scope="col">{{translateService.instant('columnLabels')["opinionsColumns"]["attachments"]}}</th>
			    </tr>
			  </thead>
			  <tbody>
			    <tr *ngFor="let item of content?.pareri">
			    	<td>{{item.nome}}</td>
			    	<td>{{item.testo}}</td>
			    	<td>{{item.dataInvio | date:translateService.instant('patternDate')}}</td>
			    	<td>{{item.dataScadenza | date:translateService.instant('patternDate')}}</td>
			    	<td>{{item.dataParere | date:translateService.instant('patternDate')}}</td>
			    	<td>
      <span *ngFor="let attach of content['allegati']">
         <a *ngIf="!attach?.riservato && attach?.titolo.lastIndexOf('ALLEGATO PARERE '+item.nome)>-1" href="{{attach.link}}" target="_blank" title="{{attach.nome}}" [attr.rel]="content['dataFinePubblicazione'] && content['dataFinePubblicazione'] > 0 ? 'nofollow' : null">
          <span *ngIf="!attach?.titolo"><img src="./assets/attach.png" alt="{{attach?.nome}}" title="{{attach?.nome}}" height="32" width="32"></span>
          <span *ngIf="attach?.titolo"><img src="./assets/attach.png" alt="{{attach?.titolo}}" title="{{attach?.titolo}}" height="32" width="32"></span>
         </a>
         <span *ngIf="attach?.riservato && attach?.titolo.lastIndexOf('ALLEGATO PARERE '+item.nome )>-1 " title="{{attach.nome}}">
          <span *ngIf="!attach?.titolo"><img src="./assets/attach.png" alt="{{attach?.nome}}(RISERVATO)" title="{{attach?.nome}}(RISERVATO)" height="32" width="32"></span>
          <span *ngIf="attach?.titolo"><img src="./assets/attach.png" alt="{{attach?.titolo}}(RISERVATO)" title="{{attach?.titolo}}(RISERVATO)" height="32" width="32"></span>
         </span>
      </span>
    </td>
			    </tr>
			  </tbody>
			</table>
		</div>
  </div>

  <div class="row">
		<div class="col-md-3"><strong>{{translateService.instant('columnLabels')["voting"]}}</strong></div>
		<div class="col-md-9">
			<table class="table" *ngIf="content?.votazioni && !utils.isEmpty(content?.votazioni)">
			  <tbody>
			    <tr>
            <th scope="col">{{translateService.instant('columnLabels')["votingColumns"]["numFavorable"]}}</th>
            <td>{{content?.votazioni?.numFavorevoli}}</td>
            <td>{{content?.votazioni?.nomiFavorevoli}}</td>
          </tr>
          <tr>
            <th scope="col">{{translateService.instant('columnLabels')["votingColumns"]["numOpposed"]}}</th>
            <td>{{content?.votazioni?.numContrari}}</td>
            <td>{{content?.votazioni?.nomiContrari}}</td>
          </tr>
          <tr>
            <th scope="col">{{translateService.instant('columnLabels')["votingColumns"]["numAbstained"]}}</th>
            <td>{{content?.votazioni?.numAstenuti}}</td>
            <td>{{content?.votazioni?.nomiAstenuti}}</td>
          </tr>
          <tr>
            <th scope="col">{{translateService.instant('columnLabels')["votingColumns"]["numNpv"]}}</th>
            <td>{{content?.votazioni?.numNpv}}</td>
			    	<td>{{content?.votazioni?.nomiNpv}}</td>
          </tr>
          <tr>
            <th scope="col">{{translateService.instant('columnLabels')["votingColumns"]["totalPresent"]}}</th>
            <td>{{content?.votazioni?.numPresenti}}</td>
            <td>&nbsp;</td>
          </tr>
			  </tbody>
			</table>
		</div>
  </div>

  <span [outerHTML]="googleOnVar | safeHtml "></span>
</div>
